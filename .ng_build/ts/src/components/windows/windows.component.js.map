{"version":3,"sources":["windows.component.ts"],"names":[],"mappings":"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","file":"windows.component.js","sourceRoot":"","sourcesContent":["import {\n    Component,\n    ViewEncapsulation,\n    ContentChildren,\n    QueryList,\n    AfterContentInit,\n    Renderer,\n    ElementRef,\n} from '@angular/core';\n\nimport {\n    NgClass\n} from '@angular/common';\n\nimport { WindowComponent } from './window/window.component';\nimport { WBackgroundComponent } from './wbackground/wbackground.component';\n\nimport { Observable } from 'rxjs/Rx';\nexport class WindowsComponent implements AfterContentInit {\nprivate _windowIndex: number = 0;\nprivate _totalWindows: number = 0;\nprivate _keydownObserver: any;\nprivate _scrollObserver: any;\n\n     windows: QueryList<WindowComponent>;\n/**\n * @param {?} _renderer\n * @param {?} _element\n */\nconstructor(private _renderer: Renderer,\nprivate _element: ElementRef) {\n    }\n/**\n * @return {?}\n */\npublic get WindowsLength(): number {\n        return this.windows.length;\n    }\n/**\n * @return {?}\n */\npublic get isFirstWindow(): boolean {\n        return this._windowIndex == 0;\n    }\n/**\n * @return {?}\n */\npublic get isLastWindow(): boolean {\n        return this._windowIndex == this._totalWindows - 1;\n    }\n/**\n * @return {?}\n */\nngAfterContentInit() {\n        this.windows.forEach(window => {\n            window.hide();\n        });\n\n        this.windows.toArray()[0].show();\n        this.windows.toArray()[0].down();\n        this.windows.toArray()[0].active();\n\n        this._keydownObserver = Observable.fromEvent(document, 'keydown').debounceTime(300);\n\n        this._keydownObserver.subscribe((e) => {\n            if (e.keyCode === 38) {\n                this.previousWindow();\n            } else if (e.keyCode === 40) {\n                this.nextWindow();\n            }\n        });\n\n        this._scrollObserver = Observable.fromEvent(this._element.nativeElement, 'wheel').debounceTime(300);\n\n        this._scrollObserver.subscribe((e: WheelEvent) => {\n\n            // cross-browser wheel delta\n            let /** @type {?} */ delta = Math.max(-1, Math.min(1, (e.deltaY || -e.detail)));\n\n            if (delta < 0) {\n                //scrolled up\n                this.previousWindow();\n            } else if (delta > 0) {\n                //scrolled down.\n                this.nextWindow();\n            }\n        });\n\n        this._totalWindows = this.windows.length;\n    }\n/**\n * @return {?}\n */\nnextWindow() {\n        if (this._windowIndex == (this.windows.length - 1)) return;\n        this.windows.toArray()[this._windowIndex].up();\n        this.windows.toArray()[++this._windowIndex].active();\n    }\n/**\n * @return {?}\n */\npreviousWindow() {\n\n        if (this._windowIndex == 0) return;\n        this.windows.toArray()[this._windowIndex].down();\n        this.windows.toArray()[--this._windowIndex].active();\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: \"windows\",\n    template: `\n      <div class=\"windows\">\n          <div class=\"windows-wrapper\">\n              <ng-content select=\"window\"></ng-content>\n          </div>\n          <div class=\"background\">\n              <ng-content select=\"wbackground\"></ng-content>\n          </div>\n          <div class=\"navigation\">\n              <div class=\"nav up\" (click)=\"previousWindow()\" [class.disabled]=\"isFirstWindow\"><i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i></div>\n              <div class=\"counter\">\n                  <span class=\"index\">{{_windowIndex + 1}}</span> / <span> {{WindowsLength}}</span>\n              </div>\n              <div class=\"nav down\" (click)=\"nextWindow()\" [class.disabled]=\"isLastWindow\"><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></div>\n          </div>\n      </div>\n    `,\n    styles: [`\n      windows{display:block;width:100%;height:100vh}windows .windows{display:block;position:relative;width:100%;height:100%}windows .windows .windows-wrapper{display:block;width:100%;height:100%;position:relative;overflow:hidden}windows .windows .background{display:block;position:absolute;top:0;left:0;bottom:0;right:0}windows .windows .navigation{position:absolute;display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-ms-flex-align:center;-webkit-box-align:center;align-items:center;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:20px;z-index:14;font-size:2rem;color:#f7f7f9;text-shadow:1px 1px 3px rgba(0,0,0,.4)}windows .windows .navigation .nav{cursor:pointer;margin:15px 0;-webkit-transition:color .28s linear;transition:color .28s linear}windows .windows .navigation .nav.disabled{color:rgba(0,0,0,.12)}windows .windows .navigation .nav:active{color:#36f}windows .windows .navigation .counter{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-align:center;-webkit-box-align:center;align-items:center;font-size:.7rem;color:#f7f7f9;margin-top:10px;margin-bottom:10px;cursor:initial}windows .windows .navigation .counter .index{font-size:.9rem;color:#36f}\n    `],\n    encapsulation: ViewEncapsulation.None,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'windows': [{ type: ContentChildren, args: [WindowComponent, ] },],\n};\n}\n\nfunction WindowsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nWindowsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nWindowsComponent.ctorParameters;\n/** @type {?} */\nWindowsComponent.propDecorators;\n/** @type {?} */\nWindowsComponent.prototype._windowIndex;\n/** @type {?} */\nWindowsComponent.prototype._totalWindows;\n/** @type {?} */\nWindowsComponent.prototype._keydownObserver;\n/** @type {?} */\nWindowsComponent.prototype._scrollObserver;\n/** @type {?} */\nWindowsComponent.prototype.windows;\n/** @type {?} */\nWindowsComponent.prototype._renderer;\n/** @type {?} */\nWindowsComponent.prototype._element;\n}\n\n\nexport const /** @type {?} */ WINDOW_COMPONENT_DIRECTIVES = [WindowsComponent, WindowComponent, WBackgroundComponent];\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}